(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{511:function(s,t,a){s.exports=a.p+"assets/img/2021-04-11-15-02-28.166c7492.png"},588:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"token的原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#token的原理"}},[s._v("#")]),s._v(" token的原理")]),s._v(" "),n("p",[s._v("客户端发起登录请求，服务器接收到登录请求后，如果验证通过，则发给客户端一个"),n("code",[s._v("token")]),s._v("，来标识一个用户。也就是说，"),n("code",[s._v("token")]),s._v("的最主要作用就是来标识一个用户。")]),s._v(" "),n("p",[s._v("原理大致如下：")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" user1Token "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1234'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" users "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("user1Token"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user2Token"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("既然，"),n("code",[s._v("token")]),s._v("可以作为"),n("code",[s._v("id")]),s._v("（唯一性）来标识一个用户，那么我们也可以用一个"),n("code",[s._v("map")]),s._v("进行保存，这样做的好处在于我们在标识唯一用户的同时，我们还可以附加一些属性(payload)。")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" user1Payload "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  username"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user1'")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" users "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  user1Token"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" user1Payload"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  user2Token"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" user2Payload"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("用户完成登录后，得到服务器授予的"),n("code",[s._v("token")]),s._v("，将其保存下来，")]),s._v(" "),n("h2",{attrs:{id:"token的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#token的使用"}},[s._v("#")]),s._v(" token的使用")]),s._v(" "),n("p",[n("img",{attrs:{src:a(511),alt:""}})])])}),[],!1,null,null,null);t.default=e.exports}}]);